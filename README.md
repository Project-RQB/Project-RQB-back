# Project RQB バックエンド環境構築

1. clone する
1. `.env`をバックのプロジェクトのルートに作成
1. `docker compose build`
1. `docker compose up`

## .env の内容

必要な環境変数が増えたら下記に追加していってください

```
FRONT_URL=http://localhost:8000
```

# プルリクエスト時におけるレビューアプリについて

今回 Heroku の pipeline を利用しています。\
プルリクでのレビュー時に各人が手元で動作確認のために pull しなくても良いよう、レビューアプリを自動で Heroku 上に作成するようにしています。\
レビューアプリはプルリクで使ったブランチがリモート上で削除されるか、**作成から 5 日後に**自動削除されるようになっています。\
プルリク画面にレビューアプリの URL 発行されるので、本環境での動作角煮がそちらで行えます。

### 流れ

1. プルリクを上げる ⇨Heroku 上にレビューアプリが作成される
1. プルリクのブランチを削除 ⇨Heroku 上のレビューアプリが削除
1. main へマージ ⇨Heroku 上のステージングアプリと本環境アプリに自動デプロイ

レビューアプリ・ステージングアプリは seed が自動で回るようになっていますが、本環境アプリは seed が回らないようになっています。\
また、レビューアプリとステージングアプリは同じ DB を使っており、本環境のみ別 DB を利用しています。\
レビューアプリとステージングアプリでテストを兼ねてデータを作っても本環境には反映されないのでご安心ください。
